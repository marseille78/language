# (PHP) 11 Помилки

## Рівні помилок

E_PARSE --- (Рівні помилок)

Це рівень помилки в PHP, який вказує на *синтаксичну помилку* в коді. Вона виникає під час компіляції скрипта, наприклад, через неправильний синтаксис, відсутні дужки або крапку з комою.



E_ERROR --- (Рівні помилок)

Це рівень помилки в PHP, який вказує на *критичну помилку*, що призводить до негайного завершення виконання скрипта. Виникає, наприклад, при виклику невизначеної функції або фатальних помилках у коді.



E_WARNING --- (Рівні помилок)

Це рівень помилки в PHP, який вказує на *нефатальне попередження*. Помилка не припиняє виконання скрипта, але сигналізує про можливу проблему, наприклад, виклик невизначеної функції або відсутнього файлу.



E_NOTICE --- (Рівні помилок)

Це рівень помилки в PHP, який вказує на *нефатальне повідомлення*, що сигналізує про можливі помилки або непередбачену поведінку, наприклад, звернення до невизначеної змінної. Виконання скрипта не припиняється.



E_DEPRECATED --- (Рівні помилок)

це рівень помилки в PHP, який вказує на *використання застарілих функцій або конструкцій*. Така помилка не припиняє виконання скрипта, але попереджає, що в майбутніх версіях PHP цей код може перестати працювати.



E_ERROR | E_WARNING --- (Рівні помилок)

Це комбінація двох рівнів помилок у PHP.

*E_ERROR* — критична помилка, яка призводить до негайного завершення скрипта.  
*E_WARNING* — нефатальне попередження, яке сигналізує про можливу проблему, але не зупиняє виконання скрипта.  

Ця комбінація означає, що будуть оброблятися як критичні помилки, так і попередження.



E_ALL & ~E_DEPRECATED --- (Рівні помилок)

Це рівень помилок у PHP, який *включає всі помилки та попередження, крім застарілих (E_DEPRECATED)*.

Це означає, що скрипт буде повідомляти про всі критичні помилки, попередження та сповіщення, але *ігноруватиме повідомлення про використання застарілих функцій і конструкцій*.



E_USER_ERROR --- (Рівні помилок)

Критична помилка, яка створюється вручну користувачем за допомогою `trigger_error()`, і зупиняє виконання скрипта.



E_USER_WARNING --- (Рівні помилок)

Некритичне попередження, створене вручну користувачем за допомогою `trigger_error()`, яке не зупиняє виконання скрипта.



E_USER_NOTICE --- (Рівні помилок)

Інформаційне повідомлення, створене вручну користувачем за допомогою `trigger_error()`, яке вказує на можливу, але некритичну проблему у виконанні коду. Скрипт продовжує виконання.



## Конструкції

function handleError($errno, $errmsg, $errfile, $errline) {
  switch ($errno) {
    case E_USER_ERROR:
      code1
      break;
    case E_USER_WARNING:
      code2
      break;
    case E_USER_NOTICE:
      code3
      break;
  }
} --- (Конструкції)

Ця конструкція — це визначення користувацької функції *handleError* для обробки різних типів помилок у PHP.  

Вона приймає чотири параметри:  
- *$errno* — код (номер) помилки,  
- *$errmsg* — текст повідомлення про помилку,  
- *$errfile* — назва файлу, де сталася помилка,  
- *$errline* — рядок у файлі, де виникла помилка.  

Усередині функції використовується конструкція *switch*, яка перевіряє тип помилки:
- Якщо це *критична помилка користувача* (*E_USER_ERROR*), виконується *code1*.  
- Якщо це *попередження* (*E_USER_WARNING*), виконується *code2*.  
- Якщо це *повідомлення* (*E_USER_NOTICE*), виконується *code3*.

Це дозволяє по-різному реагувати на різні типи помилок: наприклад, критичні — зупиняти програму, а попередження — лише виводити на екран.



## Функції

error_reporting(E_ALL & ~E_NOTICE) --- (Функції)

Ця функція встановлює рівень обробки помилок так, щоб повідомлялися всі помилки та попередження, *крім сповіщень (E_NOTICE)*. Це допомагає уникнути незначних повідомлень, наприклад, про використання невизначених змінних, але зберігає показ критичних помилок і попереджень.



error_reporting(0) --- (Функції)

Ця функція повністю *відключає виведення всіх помилок і попереджень* у скрипті, незалежно від їх рівня.



set_error_handler("handleError") --- (Функції)

Це механізм, який дозволяє встановити власну користувацьку функцію *handleError* для обробки помилок. Коли в коді трапляється помилка, замість стандартної обробки викликається вказана функція, якій передаються деталі помилки (тип, повідомлення, файл, рядок тощо). Це дає змогу контролювати, як саме відображаються або логуються помилки.



trigger_error($msg, E_USER_ERROR) --- (Функції)

Функція, що може згенерувати помилку вручну у програмі. Зазвичай використовується для перевірки критичних ситуацій. Якщо викликати з найвищим рівнем *E_USER_ERROR*, виконання скрипта одразу зупиниться, а повідомлення про помилку *$msg* буде передано в систему обробки помилок.



error_log("$errmsg\n", 3, "error.log") --- (Функції)

Ця функція дозволяє вручну записати повідомлення про помилку у файл журналу.  

У цьому прикладі:
- *"$errmsg\n"* — саме повідомлення про помилку, яке додається з переведенням рядка,
- *3* — означає, що повідомлення потрібно *дописати у вказаний файл*,
- *"error.log"* — назва файлу, куди записується повідомлення.

Таким чином, помилка зберігається в спеціальному файлі, щоб її можна було пізніше переглянути.